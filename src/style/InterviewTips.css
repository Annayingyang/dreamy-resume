:root{
  --pink-50:#fff5fa;
  --pink-100:#ffe6f1;
  --pink-200:#ffd1e7;
  --pink-300:#ffb4d6;
  --pink-400:#ff97c7;
  --pink-500:#ff7ab7; /* primary */
  --pink-600:#f25ea3;
  --pink-700:#d94b8f;
  --ink-900:#2a1130;

  --lav-50:#f7f3ff;
  --lav-200:#e8dcff;
  --lav-300:#d8c5ff;

  --card:#ffffff;
  --muted:#6c5770;
  --line:#f1e2ee;
}

* { box-sizing: border-box; }
html, body { scroll-behavior: smooth; }
body { font-family: "Poppins","Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }

/* Root card — animated gradient */
.tips.card {
  padding: 20px;
  background: linear-gradient(270deg,var(--pink-50),#ffffff,var(--pink-100),var(--pink-50));
  background-size: 400% 400%;
  animation: bgshift 10s ease infinite;
  border-radius: 18px;
  border: 1px solid var(--line);
  box-shadow: 0 10px 30px rgba(217, 75, 143, 0.08);
}
@keyframes bgshift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Header */
.tips-header {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 16px;
  align-items: end;
  margin-bottom: 12px;
}
.tips-header .title h1 {
  margin: 0;
  font-size: 1.6rem;
  letter-spacing: .2px;
  color: var(--ink-900);
}
.muted { color: var(--muted); }
.context-chip{
  display:inline-flex; align-items:center; gap:8px; margin-top:8px;
  padding:6px 10px; border-radius:999px; background:#fff; border:1px solid var(--pink-200);
  color:#5a2b47; font-weight:700; width:max-content;
}
.context-chip .dot{ width:8px; height:8px; border-radius:999px; background:var(--pink-500); box-shadow:0 0 8px rgba(255,122,183,.6); }

/* Tabs */
.tabs {
  display: inline-flex;
  gap: 8px;
  background: var(--pink-100);
  padding: 6px;
  border-radius: 999px;
  border: 1px solid var(--pink-200);
}
.tab {
  border: none;
  background: transparent;
  padding: 8px 14px;
  border-radius: 999px;
  font-weight: 700;
  color: #7a3a63;
  cursor: pointer;
  transition: transform .15s ease;
}
.tab:hover { transform: translateY(-1px); }
.tab.is-active {
  background: #ffffff;
  box-shadow: 0 2px 8px rgba(255, 122, 183, .18);
  color: #581a46;
  border: 1px solid var(--pink-200);
}

/* Skeletons */
.skeleton .line {
  height: 14px; margin: 10px 0; border-radius: 6px;
  background: linear-gradient(90deg, var(--pink-100) 25%, #fff 50%, var(--pink-100) 75%);
  background-size: 300% 100%;
  animation: shimmer 1.2s infinite;
}
.skeleton .grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-top: 10px; }
.skeleton .block { height: 120px; border-radius: 12px; background: var(--pink-50); animation: pulse 1s infinite alternate; }
.w40 { width: 40%; } .w60 { width: 60%; } .w65 { width: 65%; } .w75 { width: 75%; } .w90 { width: 90%; }
@keyframes shimmer { 0%{background-position:0 0} 100%{background-position:300% 0} }
@keyframes pulse { to { opacity: .6 } }

/* Layout helpers + smooth tab transition */
.panel { margin-top: 10px; animation: fadeSlide .4s ease; }
@keyframes fadeSlide {
  from { opacity:0; transform: translateY(10px); }
  to { opacity:1; transform: translateY(0); }
}
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; }
.full { grid-column: 1 / -1; }

@media (max-width: 900px) {
  .tips-header { grid-template-columns: 1fr; align-items: start; }
  .grid-2, .grid-3 { grid-template-columns: 1fr; }
}

/* Form */
.fg { display: grid; gap: 6px; }
.fg span { font-weight: 600; color: #5a2b47; }
.fg input, .fg select, .fg textarea {
  width: 100%; padding: 10px 12px; border-radius: 12px;
  border: 1px solid var(--pink-200); background: #fff; color: #39122d;
  outline: none;
}
.fg input:focus, .fg select:focus, .fg textarea:focus { border-color: var(--pink-400); box-shadow: 0 0 0 3px rgba(255,151,199,.25); }
.err { color: #a00040; font-style: normal; font-size: .9rem; }
.form-actions { margin-top: 4px; }
.btn { padding: 10px 14px; border-radius: 12px; border: 1px solid var(--pink-200); background: #fff; cursor: pointer; font-weight: 700; }
.btn:hover { filter: brightness(1.02); }
.btn-primary {
  background: linear-gradient(180deg, var(--pink-400), var(--pink-600));
  color: #fff; border: none; box-shadow: 0 6px 16px rgba(255,122,183,.28);
}
.btn-primary:hover { filter: brightness(1.03); }

/* Coach cards */
.coach-suggestions { margin-top: 14px; }
.coach-cards { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; }
.coach-card {
  background: var(--card); border: 1px solid var(--line); border-radius: 16px; padding: 14px;
  box-shadow: 0 4px 14px rgba(255, 122, 183, 0.10);
}
.coach-card h3 { color: #5a2b47; }
.chips { display: flex; flex-wrap: wrap; gap: 8px; }
.chip {
  padding: 6px 10px; border-radius: 999px; background: var(--pink-100); color: #5a2b47; border: 1px solid var(--pink-200);
  font-size: .9rem;
}
.tight { margin: 0; padding-left: 18px; }
.live-hint { display:none; } /* kept for backwards compatibility */

.expandable summary { cursor: pointer; font-weight: 700; color: #5a2b47; }
.mini-skeleton .line { height: 12px; margin: 8px 0; border-radius: 6px;
  background: linear-gradient(90deg, var(--pink-100) 25%, #fff 50%, var(--pink-100) 75%);
  background-size: 300% 100%; animation: shimmer 1.1s infinite;
}

/* Floating live-coach bubble */
.live-coach-bubble{
  position: relative;
  margin-top: 8px;
  display: inline-block;
  padding: 10px 12px;
  background: var(--pink-50);
  border: 1px dashed var(--pink-300);
  border-radius: 14px;
  color:#51203f;
  box-shadow: 0 6px 16px rgba(217, 75, 143, 0.08);
}
.live-coach-bubble::after{
  content:"";
  position:absolute; left:18px; top:-8px;
  border-left:8px solid transparent;
  border-right:8px solid transparent;
  border-bottom:8px solid var(--pink-50);
}

/* “Polish my answer” area */
.coach-actions{ margin-top: 8px; }

/* Tools */
.tool.card-soft {
  background: var(--card); border: 1px solid var(--line); border-radius: 16px; padding: 14px;
  box-shadow: 0 6px 16px rgba(217, 75, 143, 0.08);
}
.tool.cute { position: relative; }
.tool.cute::after {
  content: "★"; position: absolute; top: 10px; right: 12px; opacity: .35; color: var(--pink-300);
}

/* ===== Breathing trainer ===== */
.breathing h3 { margin-top: 0; }
.breath-stage {
  display: grid; place-items: center; gap: 8px; margin: 10px 0 6px;
}
.orb {
  width: 130px; height: 130px; border-radius: 999px;
  border: 2px solid var(--pink-300);
  background:
    radial-gradient(60% 60% at 40% 30%, #ffe9f4, transparent 70%),
    radial-gradient(60% 60% at 70% 70%, #f3e9ff, transparent 70%),
    #fff;
  transition: transform .6s ease;
  box-shadow: 0 0 20px rgba(255,122,183,.25);
}
.running .orb.inhale { animation: inhale 4s linear infinite; }

/* Proper HOLD animation: soft pulse while holding */
.running .orb.hold { animation: holdpulse 4s ease-in-out infinite; }

.running .orb.exhale { animation: exhale 4s linear infinite; }

@keyframes inhale { 0%{transform: scale(1)} 100%{transform: scale(1.25)} }
@keyframes holdpulse { 0%,100%{transform:scale(1.25)} 50%{transform:scale(1.28)} }
@keyframes exhale { 0%{transform: scale(1.25)} 100%{transform: scale(1)} }

.breath-labels { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.phase { padding:4px 8px; border-radius:999px; background: var(--pink-100); border:1px solid var(--pink-200); color:#5a2b47; font-weight:700; opacity:.55; }
.phase.on { opacity:1; box-shadow:0 0 0 2px var(--pink-200) inset; }
.breath-count { font-weight: 800; color:#581a46; }

.breath-actions { display:flex; gap:8px; }

/*  Wear*/
.panel.wear { display: grid; gap: 14px; }
.wear-grid {
  display: grid; grid-template-columns: repeat(2, 1fr); gap: 14px;
}
@media (max-width: 900px){ .wear-grid{ grid-template-columns: 1fr; } }

.wear-card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 14px;
  position: relative;
  box-shadow: 0 4px 14px rgba(255, 122, 183, 0.10);
}
.wear-card.is-recommended {
  border-color: var(--pink-400);
  box-shadow: 0 6px 18px rgba(255,122,183,.22);
}
/* animated glow for recommended */
.wear-card.is-recommended::after {
  content:""; position:absolute; inset:0; border-radius:16px;
  border:2px solid rgba(255,122,183,.4);
  pointer-events:none;
  animation: glow 2s ease-in-out infinite;
}
@keyframes glow { 0%,100%{opacity:.2} 50%{opacity:.9} }

.wear-head {
  display:flex; align-items:center; justify-content:space-between; margin-bottom:6px;
}
.wear-head h3 { margin:0; color:#5a2b47; }
.badge {
  display:inline-block; padding:4px 10px; border-radius:999px;
  background: linear-gradient(180deg, var(--pink-400), var(--pink-600));
  color:#fff; font-size:.85rem; font-weight:800;
}

.wear-illus { display:grid; place-items:center; }
.wear-illus .avatar {
  width: 160px; height: 160px; border-radius: 999px; margin: 6px auto 0;
  background:
    radial-gradient(100px 100px at 20% 0%, rgba(255,192,203,.35), transparent 60%),
    radial-gradient(120px 100px at 100% 80%, rgba(173,216,230,.22), transparent 60%),
    var(--lav-50);
  border: 2px solid var(--lav-200);
}


.tiny { font-size: .85rem; }
